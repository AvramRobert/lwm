@(substitution: Resource)
@import utils.semantic.Vocabulary.LWM
@import utils.semantic._
@import utils.Global._

@{
    val query =
        s"""
         |select (?scheduleAssociation as ?s) (${LWM.hasSupervisor} as ?p) (?supervisor as ?o) where{
         | $substitution ${LWM.hasScheduleAssociation} ?scheduleAssociation .
         |  ?scheduleAssociation ${LWM.hasAssignmentDateTimetableEntry} ?entry .
         | ?entry ${LWM.hasSupervisor} ?supervisor .
         |}
       """.stripMargin
    SPARQLTools.statementsFromString(sparqlExecutionContext.executeQueryBlocking(query)).headOption match{
        case Some(statement) =>
            statement.o.toString
        case None => ""
    }
}
