@(substitution: Resource)
@import utils.semantic.SPARQLTools
@import utils.semantic.Vocabulary.RDFS
@import utils.semantic.Vocabulary.LWM
@import utils.semantic.Resource
@import utils.Global._

@{
    val query =
      s"""
        | select (?labwork as ?s) (${RDFS.label} as ?p) (?label as ?o) where {
        |    $substitution ${LWM.hasScheduleAssociation} ?schedule .
        |    ?schedule ${LWM.hasGroup} ?group .
        |    ?group ${LWM.hasLabWork} ?labwork .
        |    ?labwork ${RDFS.label} ?label
        | }
      """.stripMargin
    SPARQLTools.statementsFromString(sparqlExecutionContext.executeQueryBlocking(query)).headOption match{
        case Some(statement) =>
        statement.o.toString
        case None => ""
    }
}
